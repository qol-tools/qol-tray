{
  "branches": ["master"],
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    ["@semantic-release/exec", {
      "prepareCmd": "sed -i 's/^version = \"[^\"]*\"/version = \"${nextRelease.version}\"/' Cargo.toml && cargo update -p qol-tray && make deb"
    }],
    ["@semantic-release/git", {
      "assets": ["Cargo.toml", "Cargo.lock"],
      "message": "chore(release): ${nextRelease.version}"
    }],
    ["@semantic-release/github", {
      "assets": [
        {"path": "target/debian/*.deb", "label": "Debian package (amd64)"}
      ]
    }]
  ]
}
